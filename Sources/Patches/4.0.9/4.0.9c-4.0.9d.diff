Index: gamedata.cpp
===================================================================
RCS file: /home/cvs/atlantis/gamedata.cpp,v
retrieving revision 1.42
diff -u -r1.42 gamedata.cpp
--- gamedata.cpp	2001/11/24 21:54:08	1.42
+++ gamedata.cpp	2001/12/14 08:41:25
@@ -3484,7 +3484,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_ENERGY,2,5,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{ATTACK_ENERGY,2,5,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3499,7 +3500,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_ENERGY,2,25,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{ATTACK_ENERGY,2,25,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3514,7 +3516,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_SPIRIT,2,10,WeaponType::ALWAYSREADY,MAGIC_SPIRIT,EFFECT_FEAR},
+	 {{ATTACK_SPIRIT,2,10,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_SPIRIT,EFFECT_FEAR},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3529,8 +3532,10 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_WEATHER,2,30,WeaponType::ALWAYSREADY,MAGIC_WEATHER,0},
-	  {ATTACK_ENERGY,2,30,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{ATTACK_WEATHER,2,30,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_WEATHER,0},
+	  {ATTACK_ENERGY,2,30,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
 	 "unleashes a mighty lightning strike", "killing ", ""},
@@ -3544,7 +3549,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_SPIRIT,2,125,WeaponType::ALWAYSREADY,MAGIC_SPIRIT,0},
+	 {{ATTACK_SPIRIT,2,125,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_SPIRIT,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3559,7 +3565,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_COMBAT,2,50,WeaponType::ALWAYSREADY,ARMORPIERCING,0},
+	 {{ATTACK_COMBAT,2,50,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,ARMORPIERCING,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3619,7 +3626,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{NUM_ATTACK_TYPES,2,50,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{NUM_ATTACK_TYPES,2,50,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3634,7 +3642,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_WEATHER,2,25,WeaponType::ALWAYSREADY,MAGIC_WEATHER,EFFECT_STORM},
+	 {{ATTACK_WEATHER,2,25,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_WEATHER,EFFECT_STORM},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3649,7 +3658,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_WEATHER,2,25,WeaponType::ALWAYSREADY,MAGIC_WEATHER, 0},
+	 {{ATTACK_WEATHER,2,25,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_WEATHER, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3679,7 +3689,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_SPIRIT,2,100,WeaponType::ALWAYSREADY,MAGIC_SPIRIT,0},
+	 {{ATTACK_SPIRIT,2,100,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_SPIRIT,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3694,7 +3705,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{NUM_ATTACK_TYPES,2,25,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{NUM_ATTACK_TYPES,2,25,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3709,7 +3721,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{NUM_ATTACK_TYPES,2,25,WeaponType::ALWAYSREADY,MAGIC_SPIRIT,0},
+	 {{NUM_ATTACK_TYPES,2,25,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_SPIRIT,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3724,7 +3737,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_ENERGY,2,5,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{ATTACK_ENERGY,2,5,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3739,7 +3753,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_ENERGY,2,5,WeaponType::ALWAYSREADY,MAGIC_ENERGY,0},
+	 {{ATTACK_ENERGY,2,5,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_ENERGY,0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
@@ -3754,7 +3769,8 @@
 	 {-1, -1, -1, -1},
 	 {{-1, 0}, {-1, 0}, {-1, 0}, {-1, 0}},
 	 "a non-shield spell",
-	 {{ATTACK_RIDING,1,0,WeaponType::ALWAYSREADY,MAGIC_SPIRIT,EFFECT_FEAR},
+	 {{ATTACK_RIDING,1,0,
+	   WeaponType::ALWAYSREADY|WeaponType::RANGED,MAGIC_SPIRIT,EFFECT_FEAR},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0},
 	  {-1, 0, 0, 0, 0, 0}},
